{% extends "core/base.html" %}
{% block title %}{{ chart.name }}{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto p-6 space-y-6">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3"></script>

  <h1 class="text-3xl font-bold">{{ chart.name }}</h1>

  <canvas id="chart-canvas" class="w-full max-w-4xl"></canvas>


  <script>
    try {
      const config = {{ chart_config|safe }};
      const ctx = document.getElementById("chart-canvas").getContext("2d");
      new Chart(ctx, config);
    } catch (err) {
      console.error("Chart render error:", err);
    }
  </script>
</div>
{% endblock %}
